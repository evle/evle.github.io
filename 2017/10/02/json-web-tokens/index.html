<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>
    Evle&#39;s Blog
  </title>
  <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
      crossorigin="anonymous">
    
      <link rel="icon" href="/images/favicon.ico">
      
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

  <body>
  <a href="https://github.com/evle" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="d-flex justify-content-between align-items-center">
<div class="logo">
 <a href="/">Evle&#39;s Blog</a>
</div>

<nav class="d-inline-flex">
  <ul class="nav">
    
    <li class="nav-item">
      <a class="nav-link" href="/"> Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/archives"> Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/category/"> Category</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/search"> Search</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/about/"> About</a>
    </li>
    
  </ul>
</nav>
</header>


   <div id="main-content"> 
      
         <article class="post">
  <div class="post-title">
    <h2 class="title">
      Json Web Tokens
    </h2>
  </div>

  <div class="post-meta">
    <span class="post-date">
      Publish on 2017-12-15
    </span>
  </div>

  <div class="post-content">
    <p>Token based authentication is prominent everywhere on the web nowadays. With most every web company using an API, tokens are the best way to handle authentication for multiple users.</p>
<h4 id="How-Token-Based-Works"><a href="#How-Token-Based-Works" class="headerlink" title="How Token Based Works?"></a>How Token Based Works?</h4><ol>
<li>User Requests Access with Username / Password</li>
<li>Application validates credentials</li>
<li>Application provides a signed token to the client</li>
<li>Client stores that token and sends it along with every request</li>
<li>Server verifies token and responds with data</li>
</ol>
<p><strong>Every single request will require the token</strong>. This token should be sent in the HTTP header so that we keep with the idea of stateless HTTP requests. Set server to accept requests from all domains using <code>Access-Control-Allow-Origin: *</code></p>
<h4 id="The-Benefits-of-Tokens"><a href="#The-Benefits-of-Tokens" class="headerlink" title="The Benefits of Tokens"></a>The Benefits of Tokens</h4><ol>
<li>Stateless and Scalable</li>
<li>Security</li>
<li>Extensibility</li>
<li>Multiple Platforms and Domains</li>
<li>Standards Based</li>
</ol>
<h4 id="Json-Web-Token-JWT"><a href="#Json-Web-Token-JWT" class="headerlink" title="Json Web Token(JWT)"></a>Json Web Token(JWT)</h4><p>JWT can berak down into 3 part: <strong>header</strong>, <strong>playload</strong> and <strong>signature</strong></p>
<h5 id="Header"><a href="#Header" class="headerlink" title="Header"></a>Header</h5><p>The header carries 2 parts: </p>
<pre><code>{
  &quot;typ&quot;: &quot;JWT&quot;, # declaring the type
  &quot;alg&quot;: &quot;HS256&quot;  # the hashing algorithm to use
}

eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9  # base64encode
</code></pre><h5 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h5><p>Payload also called JWT Claims, this is where we will put the information that we want to transmit and other information about our token. There are multiple claims that we can provide. This includes registered claim names, public claim names, and private claim names.</p>
<pre><code>{
  &quot;iss&quot;: github.com&quot;,    # registered claims
  &quot;exp&quot;: 1300819380,        # registered claims
  &quot;name&quot;: &quot;Chris Sevilleja&quot;,    # public claims
  &quot;admin&quot;: true         # public claims
}

eyJpc3MiOiJzY290Y2guaW8iLCJleHAiOjEzMDA4MTkzODAsIm5hbWUiOiJDaHJpcyBTZXZpbGxlamEiLCJhZG1pbiI6dHJ1ZX0  # base64encode
</code></pre><h5 id="Signature"><a href="#Signature" class="headerlink" title="Signature"></a>Signature</h5><p>This signature is made up of a hash of the three components: the header, the payload and secret.</p>
<pre><code>var encodedString = base64UrlEncode(header) + &quot;.&quot; + base64UrlEncode(payload);

HMACSHA256(encodedString, &#39;secret&#39;);

# full JWT
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzY290Y2guaW8iLCJleHAiOjEzMDA4MTkzODAsIm5hbWUiOiJDaHJpcyBTZXZpbGxlamEiLCJhZG1pbiI6dHJ1ZX0.03f329983b86f7d9a9f5fef85305880101d5e302afafa20154d094b229f75773
</code></pre>
  </div>

</article>


 
        

          
     </main>

            <footer class="d-flex justify-content-around align-items-center text-white">
 
<div></div>

     
      <div>
      &copy;
      2017
        Max Lee
      </div>


<div class="">
  <div class="">
      Powered by
      <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>

 
 <div class="">
    Theme -
    <a href="git@github.com:evle/min.git" target="_blank">Min</a>
 </div>
 
 </div>

</footer>
       
             
  </body>



</html>