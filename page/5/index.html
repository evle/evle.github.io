<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>
    Evle&#39;s Blog
  </title>
  <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
      crossorigin="anonymous">
    
      <link rel="icon" href="/images/favicon.ico">
      
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">

<link rel="stylesheet" href="/css/prism.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>

  <body>
  <a href="https://github.com/evle" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="d-flex justify-content-between align-items-center">
<div class="logo">
 <a href="/">Evle&#39;s Blog</a>
</div>

<nav class="d-inline-flex">
  <ul class="nav">
    
    <li class="nav-item">
      <a class="nav-link" href="/"> Home</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/archives"> Archives</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/category/"> Category</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/search"> Search</a>
    </li>
    
    <li class="nav-item">
      <a class="nav-link" href="/about/"> About</a>
    </li>
    
  </ul>
</nav>
</header>


   <div id="main-content"> 
      
         
<section class="d-flex flex-column align-items-center">

  
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2017/09/07/Electron-Desktop-Apps-with-JavaScript/">
          Electron 使用Node.js 开发桌面应用
        </a>
      </div>

      <div class="card-text">
        <h2 id="What-is-Electron"><a href="#What-is-Electron" class="headerlink" title="What is Electron"></a>What is Electron</h2><ul>
<li>Open source library for creating cross-platform desktop applications with HTML, CSS &amp; JavaScript</li>
<li>Apps can be packaged for Windows, Mac &amp; Linux</li>
</ul>
<h2 id="Why-I-learn-Electron"><a href="#Why-I-learn-Electron" class="headerlink" title="Why I learn Electron"></a>Why I learn Electron</h2><p>学习编程语言和学习编程是两个完全不同的概念<br>Learning out of context is more difficult than learning with relatable context.  </p>
<p>如果把 Nodejs, HTML5, CSS, JavaScript 划分为独立的部分去学习是没有意义的.<br>If you just initially focus on the syntax, you learn without context.</p>
<p>Electron应用将Nodejs, HTML, CSS, JavaScript结合到了一起, 为学Javascript全栈提供了一个context<br>Besides, it allow us to be able to develop Desktop Application.  </p>
<p>使用Electron去创造一些有趣的东西 Just for Fun<br>there are a lot of awesome apps build with Electron such as VS code, Atom, and Flow.</p>
<h2 id="安装-amp-运行"><a href="#安装-amp-运行" class="headerlink" title="安装 &amp; 运行"></a>安装 &amp; 运行</h2><pre><code>    npm install -g electron
    mkdir electron-app
    cd electron-app
</code></pre><p><strong>修改</strong> <em>package.json</em></p>
<pre><code>```
...
&quot;scripts&quot;: {
  &quot;start&quot;: &quot;electron .&quot;
},
...
```
</code></pre><p><strong>运行:</strong> <code>npm start</code></p>
<h2 id="Main-amp-Renderer-Processes"><a href="#Main-amp-Renderer-Processes" class="headerlink" title="Main &amp; Renderer Processes"></a>Main &amp; Renderer Processes</h2><p>Renderer process不支持所有的APIs, 但Main process支持,Renderer process 和 Main process的交互<br>很重要</p>
<p><code>node-integration</code> mode: 该模式默认开启，可以使你运行Node代码在browser window.<br>但是有一些库会和<code>node-integration</code>不兼容比如jquery, 除了不兼容外,<code>node-integration</code>也存在<br>安全问题,比如黑客inject <script> tag在browser window的话, 可以直接利用Node代码访问文件系统.<br>所以在必要时候在使用该模式.<br><code>preload</code> script可以访问 Node APIs 无论<code>node-integration</code>是否开启.</p>
<h2 id="Using-Node-Module"><a href="#Using-Node-Module" class="headerlink" title="Using Node Module"></a>Using Node Module</h2><p>Electron构建与Node之上，因此可以在Electron使用Node模块. 这意味着很多问题已经有现成的解决方案，只要倒入别人在NPM上发布的包<br>就可以了. 本节教你如何使用 <a href="https://nodejs.org/api/">Node built-in Module</a>和 <a href="">Node module from NPM</a></p>
<h2 id="Application-Lifecycle"><a href="#Application-Lifecycle" class="headerlink" title="Application Lifecycle"></a>Application Lifecycle</h2><p>当启动一个Electron应用时发生了什么?</p>
<ul>
<li>Electron的Node runtime 开始运行</li>
<li>加载所需要的库</li>
<li>加载你的 main模块 并且执行<br>The main module is the one that you’ve defined in your package.json file. And while an application can spawn multiple renderer processes, there can only be one main process. It controls the whole state of your application and you can react to different events that may occur.</li>
</ul>
<p>main module 控制整个应用的生命周期 通过 EventEmitter</p>
<p>Startup<br>When code is loaded, the app module emits it’s first event: the ready event.<br>其实第一个emit的event是<code>will-finish-launching</code>. 与<code>ready</code>事件相同</p>
<p>Quitting</p>
<ol>
<li><code>window-all-closed</code>：程序在该事件下停止<br>因为在Mac系统下, 关闭窗口后应用不用关闭,需要按Cmd+q才能真正的关闭，所以可以用以下方法停止程序运行在Mac上<pre><code> app.on(‘window-all-closed’, () =&gt; {
   if (process.platform !== ‘darwin’) {
     app.quit();
   }
 });
</code></pre></li>
<li><code>activate</code>: 用户点击dock icon应用会出现, 使用<code>activate</code>捕获这个事件<pre><code> app.on(‘activate’, () =&gt; {
 if (mainWindow === null) {
   createMainWindow();
 }
 });
</code></pre></li>
</ol>
<p>before-quit<br>quit</p>
<p>程序防止崩溃,使用f uncaughtException</p>
<pre><code>```
const electron = require(&#39;electron&#39;);
const app = electron.app;

process.on(&#39;uncaughtException&#39;, (err) =&gt; {
  console.log(&#39;application almost crashed!&#39;, err);
});

app.on(&#39;ready&#39;, () =&gt; {
  setTimeout(() =&gt; {
    nonExistentFunc();
  }, 2000);
});
```
</code></pre><h2 id="Platform-Detection"><a href="#Platform-Detection" class="headerlink" title="Platform Detection"></a>Platform Detection</h2><p>翻译 Google Play Music Desktop Player UNOFFICIAL</p>
<h2 id="Custom-Frames"><a href="#Custom-Frames" class="headerlink" title="Custom Frames"></a>Custom Frames</h2><h2 id="Desktop-Integrations"><a href="#Desktop-Integrations" class="headerlink" title="Desktop Integrations"></a>Desktop Integrations</h2><h2 id="Defining-Shortcuts"><a href="#Defining-Shortcuts" class="headerlink" title="Defining Shortcuts"></a>Defining Shortcuts</h2><h2 id="Debugging"><a href="#Debugging" class="headerlink" title="Debugging"></a>Debugging</h2><h2 id="Menus"><a href="#Menus" class="headerlink" title="Menus"></a>Menus</h2><h2 id="System-temporary"><a href="#System-temporary" class="headerlink" title="System temporary"></a>System temporary</h2><h2 id="Notifications"><a href="#Notifications" class="headerlink" title="Notifications"></a>Notifications</h2><h2 id="Webview"><a href="#Webview" class="headerlink" title="Webview"></a>Webview</h2><h2 id="Audio-amp-Video-Capturing"><a href="#Audio-amp-Video-Capturing" class="headerlink" title="Audio &amp; Video Capturing"></a>Audio &amp; Video Capturing</h2><h2 id="Packaging-Apps"><a href="#Packaging-Apps" class="headerlink" title="Packaging Apps"></a>Packaging Apps</h2><h2 id="Automatic-Updates"><a href="#Automatic-Updates" class="headerlink" title="Automatic Updates"></a>Automatic Updates</h2></script></p>
      </div>

      <div class="card-text">
        2017-09-07
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2017/09/06/Contributions-Lose/">
          修复 Github Contributions 未被记录和显示
        </a>
      </div>

      <div class="card-text">
        <p><br>当本地 <strong>git</strong> 邮箱与 <strong>GitHub</strong> 不一致时, 所推送的 Contributions 不会被 GitHub记录并显示  </p>
<p><strong>Solution:</strong> (<strong>For Mac</strong>)</p>
<blockquote>
<p>To change the name and/or email address recorded in existing commits, you must rewrite the entire history of your Git repository.</p>
</blockquote>
<ol>
<li><p>Open Terminal.  </p>
</li>
<li><p>Create a fresh, bare clone of your repository:</p>
<pre><code> git clone --bare https://github.com/user/repo.git
 cd repo.git
</code></pre></li>
<li>Copy and paste the script, replacing the following variables based on the information you gathered:<pre><code> #!/bin/sh
 git filter-branch --env-filter &#39;
 OLD_EMAIL=&quot;your-old-email@example.com&quot;
 CORRECT_NAME=&quot;Your Correct Name&quot;
 CORRECT_EMAIL=&quot;your-correct-email@example.com&quot;
 if [ &quot;$GIT_COMMITTER_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]
 then
     export GIT_COMMITTER_NAME=&quot;$CORRECT_NAME&quot;
     export GIT_COMMITTER_EMAIL=&quot;$CORRECT_EMAIL&quot;
 fi
 if [ &quot;$GIT_AUTHOR_EMAIL&quot; = &quot;$OLD_EMAIL&quot; ]
 then
     export GIT_AUTHOR_NAME=&quot;$CORRECT_NAME&quot;
     export GIT_AUTHOR_EMAIL=&quot;$CORRECT_EMAIL&quot;
 fi
 &#39; --tag-name-filter cat -- --branches --tags
</code></pre></li>
<li>Press <code>Enter</code> to run the script.</li>
<li><p>Review the new Git history for errors: <code>git log</code>  </p>
</li>
<li><p>Push the new Git history to GitHub: <code>git push --force --tags origin &#39;refs/heads/*&#39;</code>  </p>
</li>
<li><p>Clean up the temporary clone: <code>cd .. &amp; rm -rf repo.git</code>    </p>
</li>
</ol>

      </div>

      <div class="card-text">
        2017-09-06
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2017/09/02/MongoDB-Cheat-Sheets/">
          MongoDB Cheat Sheets
        </a>
      </div>

      <div class="card-text">
        <h2 id="Executables"><a href="#Executables" class="headerlink" title="Executables"></a>Executables</h2><table>
<thead>
<tr>
<th></th>
<th>MySQL/Oracle</th>
<th>MongoDB</th>
</tr>
</thead>
<tbody>
<tr>
<td>Database Server</td>
<td>mysqld/oracle</td>
<td>mongod</td>
</tr>
<tr>
<td>Database Client</td>
<td>mysql/sqlplus</td>
<td>mongo</td>
</tr>
</tbody>
</table>
<h2 id="Concepts"><a href="#Concepts" class="headerlink" title="Concepts"></a>Concepts</h2><table>
<thead>
<tr>
<th>SQL Terms/Concepts</th>
<th>MongoDB Terms/Concepts</th>
</tr>
</thead>
<tbody>
<tr>
<td>database</td>
<td>database</td>
</tr>
<tr>
<td>table</td>
<td>collection</td>
</tr>
<tr>
<td>row</td>
<td>document or BSON document</td>
</tr>
<tr>
<td>column</td>
<td>field</td>
</tr>
<tr>
<td>index</td>
<td>index</td>
</tr>
<tr>
<td>table joins</td>
<td>embedded documents and linking</td>
</tr>
<tr>
<td>primary key</td>
<td>primary key(default _id)</td>
</tr>
</tbody>
</table>
<h2 id="Database-Commands"><a href="#Database-Commands" class="headerlink" title="Database Commands"></a>Database Commands</h2><table>
<thead>
<tr>
<th>Command</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>db</td>
<td>Displays the database that you’re currently using.</td>
</tr>
<tr>
<td>show dbs</td>
<td>Displays the databases available on the server.</td>
</tr>
<tr>
<td>use <db></db></td>
<td>Create or switch database</td>
</tr>
<tr>
<td>db.dropDatabase()</td>
<td>Drop database</td>
</tr>
</tbody>
</table>
<h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><table>
<thead>
<tr>
<th>Command</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>db.createCollection(“user”)</td>
<td>Create collection</td>
</tr>
<tr>
<td>db.COLLECTION_NAME.drop()</td>
<td>Delete collection</td>
</tr>
</tbody>
</table>
<h2 id="Basic-CRUD-Operations"><a href="#Basic-CRUD-Operations" class="headerlink" title="Basic CRUD Operations"></a>Basic CRUD Operations</h2><h3 id="Create"><a href="#Create" class="headerlink" title="Create"></a>Create</h3><table>
<thead>
<tr>
<th>MongoDB Schema Statements</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>db.user.insert({name: “evle”,age: 18})</td>
<td></td>
</tr>
<tr>
<td>db.user.ensureIndex( { user_id: 1, age: -1 } )</td>
<td>Index</td>
</tr>
</tbody>
</table>
<h3 id="Read"><a href="#Read" class="headerlink" title="Read"></a>Read</h3><table>
<thead>
<tr>
<th>MongoDB Schema Statements</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>db.users.find()</td>
<td></td>
</tr>
<tr>
<td>db.users.find({ status: “A” }</td>
<td>status = A</td>
</tr>
</tbody>
</table>
<h3 id="update"><a href="#update" class="headerlink" title="update"></a>update</h3><table>
<thead>
<tr>
<th>MongoDB Schema Statements</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>db.user.update({‘name’:’evle’},{$set:{‘name’:’max lee’}})</td>
<td>Only update the first one.</td>
</tr>
<tr>
<td>db.user.update({‘name’:’evle’},{$set:{‘name’:’max lee’}},{multi:ture})</td>
<td>Update all</td>
</tr>
</tbody>
</table>
<h3 id="Delete"><a href="#Delete" class="headerlink" title="Delete"></a>Delete</h3><table>
<thead>
<tr>
<th>MongoDB Schema Statements</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>db.users.remove( )</td>
<td></td>
</tr>
<tr>
<td>db.users.remove({ status: “D” })</td>
<td>status = D</td>
</tr>
</tbody>
</table>
<h2 id="Miscellaneous"><a href="#Miscellaneous" class="headerlink" title="Miscellaneous"></a>Miscellaneous</h2><table>
<thead>
<tr>
<th>Command</th>
<th>Note</th>
</tr>
</thead>
<tbody>
<tr>
<td>limit()</td>
<td></td>
</tr>
<tr>
<td>skip()</td>
<td></td>
</tr>
<tr>
<td>sort()</td>
<td></td>
</tr>
<tr>
<td>$lt</td>
<td></td>
</tr>
<tr>
<td>$lte</td>
<td></td>
</tr>
<tr>
<td>$gt</td>
<td></td>
</tr>
<tr>
<td>$gte</td>
<td></td>
</tr>
<tr>
<td>$ne</td>
<td></td>
</tr>
<tr>
<td>AND</td>
<td></td>
</tr>
<tr>
<td>OR</td>
<td></td>
</tr>
<tr>
<td>aggregate()</td>
</tr>
</tbody>
</table>

      </div>

      <div class="card-text">
        2017-09-02
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2017/06/29/sass-guides-md/">
          sass_guides.md
        </a>
      </div>

      <div class="card-text">
        <p>sudo gem install sass</p>
<p>编译<br>sass main.scss main.css</p>
<p>Nesting</p>
<p>.parent {<br>  color: blue;<br>  .child {<br>    font-size: 12px;<br>  }<br>}</p>
<p>Variables<br>$translucent-white: rgba(255,255,255,0.3);<br>background-color: $translucent-white;</p>
<p>In addition to color, numbers, strings, booleans, and null, Sass also has two other data types, lists and maps.</p>
<p>Lists can be separated by either spaces or commas. For example, the following list denotes font properties, such as:<br>1.5em Helvetica bold;<br>or</p>
<p>Helvetica, Arial, sans-serif;</p>
<p>maps<br>(key1: value1, key2: value2);</p>
<ol>
<li><p>Nesting is the process of placing child selectors and properties in the scope of a parent selector. This allows a programmer to draw DOM relationships and avoid repetition.</p>
</li>
<li><p>Variables make it easy to update code and reference values by allowing you to assign an identifier to a value.</p>
</li>
<li><p>Sass Data Types include:</p>
</li>
</ol>
<p>Numbers<br>Strings<br>Booleans<br>null<br>Lists<br>Maps</p>

      </div>

      <div class="card-text">
        2017-06-29
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2017/01/05/bootstrap/">
          理解和使用Bootstrap
        </a>
      </div>

      <div class="card-text">
        <blockquote>
<p>Bootstrap is front-end <strong>framework</strong> for <strong>faster</strong> and <strong>easier</strong> responsive web development.</p>
</blockquote>
<p>为了更好的理解Bootstrap，在阅读该教程前的基础工作:</p>
<ol>
<li>找一个你喜欢的代码编辑工具(推荐Atom)</li>
<li>新建一个网页并加载Bootstrap(推荐使用以下方法加载)<br>复制以下文件至新建的 <strong>HTML</strong> 页面中<pre><code> &lt;!DOCTYPE html&gt;
 &lt;html&gt;
 &lt;head&gt;
     &lt;meta charset=&quot;utf-8&quot;&gt;
     &lt;title&gt;Basic Bootstrap Template&lt;/title&gt;
     &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
     &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css&quot; integrity=&quot;sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u&quot; crossorigin=&quot;anonymous&quot;&gt;
     &lt;!-- Optional Bootstrap theme --&gt;
     &lt;link rel=&quot;stylesheet&quot; href=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css&quot; integrity=&quot;sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp&quot; crossorigin=&quot;anonymous&quot;&gt;
 &lt;/head&gt;
 &lt;body&gt;
     &lt;h1&gt;Hello, world!&lt;/h1&gt;
     &lt;script src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js&quot;&gt;&lt;/script&gt;
     &lt;script src=&quot;https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js&quot; integrity=&quot;sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
 &lt;/body&gt;
 &lt;/html&gt;
</code></pre></li>
</ol>
<h1 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h1><h2 id="Grid-System"><a href="#Grid-System" class="headerlink" title="Grid System"></a>Grid System</h2><h2 id="Fixed-Layout"><a href="#Fixed-Layout" class="headerlink" title="Fixed Layout"></a>Fixed Layout</h2><h2 id="Fluid-Layout"><a href="#Fluid-Layout" class="headerlink" title="Fluid Layout"></a>Fluid Layout</h2><h1 id="控件"><a href="#控件" class="headerlink" title="控件"></a>控件</h1><h1 id="练习"><a href="#练习" class="headerlink" title="练习"></a>练习</h1><h1 id="实践"><a href="#实践" class="headerlink" title="实践"></a>实践</h1>
      </div>

      <div class="card-text">
        2017-01-05
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2016/12/10/git-github-tutorial/">
          Learn Git &amp; Github 你要知道的没那么多
        </a>
      </div>

      <div class="card-text">
        <p>Git是目前主流的分布式版本控制系统, 下载及安装Git后需要进行以下设置</p>
<pre><code>    $ git config --global user.name &quot;Your Name&quot;
    $ git config --global user.email &quot;email@example.com&quot;
</code></pre><p>设置完Git之后设置Github的 <strong>SSH key</strong>. 使用 <code>ssh-keygen -t rsa -C &quot;email@example.com&quot;</code> 生成 <strong>id_rsa.pub</strong> 然后 添加到 Github 账户中.</p>
<h1 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h1><pre><code>    ## 创建与添加
    # 在新建的文件夹内执行以下命令新建仓库
    $ git init  

    # 添加文件至仓库
    $ git add a
    $ git add b
    $ git add .
    $ git commit -m &quot;add 2 files.&quot;

    # 获取当前工作区状态
    $ git status

    # 查看文件改动
    $ git diff  # 工作区与缓存区的差异
    $ git diff branch-a branch-b
    $ git diff branch

    # 历史提交记录
    $ git log # 查看所有commit记录
    $ git log filename  # 查看文件修改记录

    # 查看代码的作者
    $ git blame filename

    # 文件恢复
</code></pre><p>需要注意的是在添加文件至仓库时有2步，先使用 <code>git add filename</code> 提交单个文件到暂存区, 然后使用 <code>git commit -m &quot;message&quot;</code> 将暂存区的文件提交到当前分支. 还有一点要注意的是确保 <strong>“message”</strong> 有意义.  </p>
<h2 id="版本切换"><a href="#版本切换" class="headerlink" title="版本切换"></a>版本切换</h2><pre><code>    # 查看commit记录(获取commit_id)
    $ git log

    ＃切换版本
    $ git reset --hard commit_id  # 切换到指定commit_id的版本
    $ git reset --hard HEAD^      # 切换到上个版本
    $ git reset --hard HEAD^^     # 切换到上上个版本

    # 查看历史命令
    $ git reflog  
</code></pre><p>当回退到之前的版本时, 回退前的版本的commit_id无法通过 <code>git log</code> 查询, 只能通过 <code>git reflog</code> 查询历史版本的commit_id.<br>e.g. 当前版本B, 使用 <code>git reset --hard commit_id</code> 回退到之前的版本A. 在版本A中, 再想回退到版本B时, 无法使用 <code>git log</code> 获取版本B的 <strong>commit_id</strong> . 但可以通过 <code>git reflog</code> 获取.</p>
<h2 id="撤销与删除"><a href="#撤销与删除" class="headerlink" title="撤销与删除"></a>撤销与删除</h2><pre><code>    # 撤销在暂存区中的提交 (已 add 未 commit)
    $ git reset HEAD filename
    $ git checkout filename

    # 撤销提交
    $ git revert HEAD # 撤销最近一次提交
    $ git revert commit_id

    # 查看某次提交修改的内容
    $ git show commit_id

    # 删除被 tracked 的文件
    $ rm filename
    $ git status

    # -----&gt; 恢复
    $ git checkout -- filename  # 抛弃当前修改 or 恢复误删文件

    # or ----&gt; 确定删除
    $ git rm filename  # 删除暂存区中文件
    $ git commit -m &quot;message&quot;
</code></pre><p>误删的文件也可以使用 <code>git checkout -- filename</code> 恢复.</p>
<h1 id="分支管理"><a href="#分支管理" class="headerlink" title="分支管理"></a>分支管理</h1><h2 id="常用分支"><a href="#常用分支" class="headerlink" title="常用分支"></a>常用分支</h2><ul>
<li>master branch:</li>
<li>develop branch:</li>
<li>temporary branch: adding new feature or hotfix</li>
</ul>
<h2 id="分支操作"><a href="#分支操作" class="headerlink" title="分支操作"></a>分支操作</h2><pre><code>    # 创建
    $ git branch branch_name       # 创建分支
    $ git checkout branch_name     # 切换分支
    $ git checkout -b branch_name  # 创建并切换分支

    # 合并
    $ git merge branch_name         ＃ 合并指定分支到当前分支
    $ git merge --no-ff -m &quot;message&quot; branch_name  ＃ 禁用快速合并

    # 线性合并
    $ git checkout some-feature     # 合并 some-feature 到 origin
    $ git rebase origin
    # 解决冲突后
    $ git add filename
    $ git rebase --continue
    # 终止合并
    $ git rebase --abort

    # 查看合并情况
    $ git log --graph --pretty=oneline

    # 删除  
    $ git branch -d dev
    # 恢复
    $ git log --branches=&quot;branch_name&quot;  
    $ git branch branch_name commit_id

    # 分支重命名
    $ git branch -m old_name new_name

    # 推送分支
    $ git push origin branch_name

    # 关联本地分支与远程分支
    $ git branch --set-upstream branch-name origin/branch-name
</code></pre><p>如果突然有高优先级的分支需要前去处理的时候, 使用 <code>git stash</code> 可以保存当前工作现场. 当其它分支处理完成, 使用 <code>git stash apply</code> 恢复工作现场. 相关命令: <code>git stash list</code>, <code>git stash apply stash@{2}</code></p>
<pre><code>    # 远程分支操作
    # 修改远程Repo地址
    $ git remote set-url origin remote_repo

    # 获取远程仓库更新
    $ git fetch origin master
    $ git log -p master ..origin/master
    $ git merge origin/master

    $ git pull  # fetch + merge

    # 查看远程分支
    $ git brach -r

    # 获取远程分支
    $ git checkout b local_branch remote_branch
    $ git fetch origin remote_branch:local_branch
    $ git branch --set-upstream

    # 删除远程分支
    $ git push origin :branch_name
</code></pre><h1 id="标签管理"><a href="#标签管理" class="headerlink" title="标签管理"></a>标签管理</h1><pre><code>    # 创建标签
    $ git tag tag_name
    $ git tag tag_name commit_id        # 为指定的提交创建标签
    $ git tag -a tag_name -m &quot;message&quot;  # 创建标签同时指定说明

    # 查看标签
    $ git tag

    # 删除标签
    $ git tag -d tag_name
</code></pre><p>标签默认不会被推送到远程, 使用 <code>git push origin --tags</code> 将标签推送至远程</p>
<h1 id="远程仓库"><a href="#远程仓库" class="headerlink" title="远程仓库"></a>远程仓库</h1><h2 id="从本地推送至服务器端"><a href="#从本地推送至服务器端" class="headerlink" title="从本地推送至服务器端"></a>从本地推送至服务器端</h2><ol>
<li>先在Github上新建一个Repository.</li>
<li><p>将本地的仓库与刚才新建的仓库关联.</p>
<pre><code> $ git remote add origin git@github.com:username/repo_name.git
</code></pre></li>
<li><p>推送本地仓库至远程仓库</p>
<pre><code> $ git push -u origin master  # -u 关联本地分支和远程分支
</code></pre></li>
</ol>
<p>之后每次提交代码至服务器端只需要 <code>git push origin master</code>.<br>这里有一点要注意, <strong>如果在Github上新建的项目自动生成了README</strong>，需要在关联本地仓库与远程仓库之后执行 <code>git pull --rebase origin master</code> 将README同步至本地之后，再推送本地仓库至远程.</p>
<h2 id="从服务器端克隆至本地"><a href="#从服务器端克隆至本地" class="headerlink" title="从服务器端克隆至本地"></a>从服务器端克隆至本地</h2><ol>
<li>在Github中找到 <strong>Clone</strong> 选项中所需项目的 <strong>SSH</strong> 或者 <strong>HTTPS</strong> 的URL.</li>
<li>在合适的文件夹里执行 <code>git clone  SSH or HTTPS</code>.</li>
</ol>
<h1 id="贡献代码"><a href="#贡献代码" class="headerlink" title="贡献代码"></a>贡献代码</h1><h2 id="Collaborators"><a href="#Collaborators" class="headerlink" title="Collaborators"></a>Collaborators</h2><p><em>Settings -&gt; Collaborators -&gt; Add collaborator</em></p>
<h2 id="Pull-Request"><a href="#Pull-Request" class="headerlink" title="Pull Request"></a>Pull Request</h2><p><em>Fork -&gt; Clone -&gt; [Write Code] -&gt; Commit &amp; Push -&gt; Pull Request</em></p>
<h1 id="Git-Workflow"><a href="#Git-Workflow" class="headerlink" title="Git Workflow"></a>Git Workflow</h1><h2 id="Github-workflow"><a href="#Github-workflow" class="headerlink" title="Github workflow"></a>Github workflow</h2><ol>
<li><p><strong>Create a brach</strong><br>Branch name should be descriptive e.g., <strong>refactor-authentication</strong>, <strong>Fixes-#31</strong>  </p>
</li>
<li><p><strong>Add commits</strong><br>Writing clear commit messages is extremely important.  </p>
</li>
<li><p><strong>Open a Pull Request</strong>  </p>
</li>
<li><p><strong>Discuss and review your code</strong>  </p>
</li>
<li><p><strong>Deploy</strong>  </p>
</li>
<li><p><strong>Merge</strong>  </p>
</li>
</ol>
<h1 id="gitignore"><a href="#gitignore" class="headerlink" title=".gitignore"></a>.gitignore</h1><p>A collection of useful <strong>.gitignore</strong> templates: <a href="https://github.com/github/gitignore" target="_blank" rel="noopener">https://github.com/github/gitignore</a><br>Example: remove node_modules from git repo</p>
<pre><code>```
git rm -r --cached node_modules
git commit -m &#39;Remove the now ignored directory node_modules&#39;
git push origin master
```
</code></pre>
      </div>

      <div class="card-text">
        2016-12-10
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2016/11/24/有效的提升英文写作能力/">
          有效的提升英文写作能力
        </a>
      </div>

      <div class="card-text">
        <p>最近要写的 <strong>paper</strong> 很多, 在写的时候一直在思考一个问题: 如何有效的提升英文写作能力. 查看了一些相关资料并结合自己经验总结了一种有效提升英文写作能力的解决方案(只针对Academic Writing).</p>
<p>对于 Academic Writing, 语法和词汇不是最重要的. 只要用词准确，语法不影响理解就达到了基本的要求. 最重要的是文章的 <strong>内容</strong>, <strong>逻辑</strong> 和 <strong>简洁程度</strong>. 很多人在英文写作时忽视了一个问题, 就是写作能力不分语言. 用中文写不好用英文当然也写不好, <em>所以在思考如何提升英文写作能力的时候，首先要考虑的不是文法句式, 而是逻辑.</em> 一篇逻辑好的文章可以让读者毫不费力的理解. 如何提升写作逻辑?</p>
<ol>
<li>写文章和写代码一样, 在下笔(编码)前一定要对自己的题目(需求)有充分的理解.     </li>
<li>理解题目(需求)之后确定自己要写什么, 自己的观点(功能)是什么, 用什么论据(业务)去支撑自己的观点. 不要说空的东西或者来回说一个东西并且要注意你所写的每一句话都是有联系(ctx)的.</li>
</ol>
<p>简单清晰的逻辑 + 一本单词书 + 一本语法书 = 让人舒服的英文文章</p>
<p>不需要执意追求漂亮的长句和丰富的用词, 在日常阅读中慢慢积累就好, 没有逻辑, 再花式的词句也没有用.</p>
<p>写作提升的核心有2个部分: <strong>阅读</strong> 和 <strong>模仿</strong></p>
<p><strong>阅读</strong>: 阅读是一个量变引起质变的过程, 所以一定要持续, 尽可能每天都抽出时间进行一定量的阅读. 阅读的过程中不仅仅是提升阅读能力, 更重要的是掌握词汇在上下文中的用法以及语法, 让你的用词更准确, 语句更丰富 还可以学习别人的写作逻辑. 阅读量匮乏的情况下会导致你的每篇文章基本都是一个模板, 古板呆滞像下面这样:  </p>
<p>  Nowadays,with the rapid development of society, purpose of education being changed.There are some people who think that competition in children should be made .Others believe that children who are taught to cooperate as well as become more useful adults.</p>
<p><strong>模仿</strong>: 模仿是最快的学习方法, 没有之一. 推荐材料：经济学人</p>
<p>“Write. Rewrite. When not writing or rewriting, read. I know of no shorcuts. -Larry L. King(1929-2012), writer”</p>

      </div>

      <div class="card-text">
        2016-11-24
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2016/11/22/jQuery/">
          jQuery Crash
        </a>
      </div>

      <div class="card-text">
        <h2 id="Selectors"><a href="#Selectors" class="headerlink" title="Selectors"></a>Selectors</h2><pre><code>    //$(&#39;h1&#39;).hide();
        //$(&#39;h1#heading1&#39;).hide();
        //$(&#39;.heading2&#39;).hide();
        //$(&#39;p span&#39;).css(&#39;color&#39;, &#39;red&#39;);
        $(&#39;ul#list li:first&#39;).css(&#39;color&#39;, &#39;red&#39;);
        $(&#39;ul#list li:last&#39;).css(&#39;color&#39;, &#39;green&#39;);
        $(&#39;ul#list li:even&#39;).css(&#39;background-color&#39;, &#39;yellow&#39;);
        $(&#39;ul#list li:odd&#39;).css(&#39;background-color&#39;, &#39;#cccccc&#39;);
        $(&#39;ul#list li:nth-child(3n)&#39;).css(&#39;list-style&#39;, &#39;none&#39;);
        $(&#39;:text&#39;).hide();
        $(&#39;[href]&#39;).css(&#39;color&#39;, &#39;red&#39;);
        $(&#39;a[href=&quot;http://yahoo.com&quot;]&#39;).css(&#39;color&#39;, &#39;green&#39;);
</code></pre><h2 id="Events"><a href="#Events" class="headerlink" title="Events"></a>Events</h2><pre><code>
        $(document).ready(function(){
            /*
            $(&#39;#btn1&#39;).click(function(){
                alert(&#39;Button Clicked!&#39;);
            });
            $(&#39;#btn1&#39;).on(&#39;click&#39;, function(){
                alert(&#39;Button Clicked!&#39;);
            });
            $(&#39;#btn1&#39;).on(&#39;click&#39;, function(){
                //$(&#39;.para1&#39;).hide();
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn2&#39;).on(&#39;click&#39;, function(){
                $(&#39;.para1&#39;).show();
            });

            $(&#39;#btn1&#39;).dblclick(function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).hover(function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).on(&#39;mouseenter&#39;, function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).on(&#39;mouseleave&#39;, function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).on(&#39;mousemove&#39;, function(){
                $(&#39;.para1&#39;).toggle();
            });

            $(&#39;#btn1&#39;).on(&#39;mousedown&#39;, function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).on(&#39;mouseup&#39;, function(){
                $(&#39;.para1&#39;).toggle();
            });
            $(&#39;#btn1&#39;).click(function(e){
                //alert(e.currentTarget.id);
                //alert(e.currentTarget.innerHTML);
                //alert(e.currentTarget.outerHTML);
                //alert(e.currentTarget.className);
            });
            $(document).on(&#39;mousemove&#39;, function(e){
                $(&#39;#coords&#39;).html(&#39;Coords: Y: &#39;+e.clientY+&quot; X: &quot;+e.clientX);
            });
            $(&#39;input&#39;).focus(function(){
                //alert(&#39;Focus&#39;);
                $(this).css(&#39;background&#39;, &#39;pink&#39;);
            });
            $(&#39;input&#39;).blur(function(){
                //alert(&#39;Focus&#39;);
                $(this).css(&#39;background&#39;, &#39;white&#39;);
            });
            $(&#39;input&#39;).keyup(function(e){
                console.log(e.target.value);
            });
            */
            $(&#39;select#gender&#39;).change(function(e){
                alert(e.target.value);
            });
            $(&#39;#form&#39;).submit(function(e){
                e.preventDefault();
                var name = $(&#39;input#name&#39;).val();
                console.log(name);
            });
        });
</code></pre><h2 id="Effects-animation"><a href="#Effects-animation" class="headerlink" title="Effects animation"></a>Effects animation</h2><pre><code>$(document).ready(function(){
            $(&#39;#btnFadeOut&#39;).click(function(){
                $(&#39;#box&#39;).fadeOut(3000, function(){
                    $(&#39;#btnFadeOut&#39;).text(&#39;Its Gone&#39;);
                });
            });
            $(&#39;#btnFadeIn&#39;).click(function(){
                $(&#39;#box&#39;).fadeIn(3000);
            });
            $(&#39;#btnFadeTog&#39;).click(function(){
                $(&#39;#box&#39;).fadeToggle(1000);
            });
            $(&#39;#btnSlideDown&#39;).click(function(){
                $(&#39;#box&#39;).slideDown(3000);
            });
            $(&#39;#btnSlideUp&#39;).click(function(){
                $(&#39;#box&#39;).slideUp(3000);
            });
            $(&#39;#btnSlideTog&#39;).click(function(){
                $(&#39;#box&#39;).slideToggle(3000);
            });
            $(&#39;#btnStop&#39;).click(function(){
                $(&#39;#box&#39;).stop();
            });
            $(&#39;#moveRight&#39;).click(function(){
                $(&#39;#box2&#39;).animate({
                    left: 500,
                    height: &#39;300px&#39;,
                    width:&#39;300px&#39;,
                    opacity: &#39;0.5&#39;
                });
            });
            $(&#39;#moveLeft&#39;).click(function(){
                $(&#39;#box2&#39;).animate({
                    left: 0,
                    height: &#39;100px&#39;,
                    width: &#39;100px&#39;,
                    opacity:&#39;1&#39;
                });
            });
            $(&#39;#moveAround&#39;).click(function(){
                var box = $(&#39;#box2&#39;);
                box.animate({
                    left: 300
                });
                box.animate({
                    top: 300
                });
                box.animate({
                    left:0,
                    top: 300
                });
                box.animate({
                    left: 0,
                    top:0
                });
            });
        });
</code></pre><h2 id="DOM-manipulation"><a href="#DOM-manipulation" class="headerlink" title="DOM manipulation"></a>DOM manipulation</h2><pre><code>$(document).ready(function(){
            //$(&#39;p.para1&#39;).css(&#39;color&#39;, &#39;red&#39;);
            //$(&#39;p.para1&#39;).css({color:&#39;red&#39;,background:&#39;#ccc&#39;});
            //$(&#39;p.para2&#39;).addClass(&#39;myClass&#39;);
            //$(&#39;p.para2&#39;).removeClass(&#39;myClass&#39;);
            //$(&#39;#btn1&#39;).click(function(){
                //$(&#39;p.para2&#39;).toggleClass(&#39;myClass&#39;);
            //});
            /*
            //$(&#39;#myDiv&#39;).text(&#39;Hello World&#39;);
            //$(&#39;#myDiv&#39;).html(&#39;&lt;h3&gt;Hello World&lt;/h3&gt;&#39;);
            //alert($(&#39;#myDiv&#39;).text());
            $(&#39;ul&#39;).append(&#39;&lt;li&gt;Append List Item&lt;/li&gt;&#39;);
            $(&#39;ul&#39;).prepend(&#39;&lt;li&gt;Prepend List Item&lt;/li&gt;&#39;);
            $(&#39;.para1&#39;).appendTo(&#39;.para2&#39;);
            $(&#39;.para1&#39;).prependTo(&#39;.para2&#39;);
            $(&#39;ul&#39;).before(&#39;&lt;h4&gt;Hello&lt;/h4&gt;&#39;);
            $(&#39;ul&#39;).after(&#39;&lt;h4&gt;World&lt;/h4&gt;&#39;);
            $(&#39;ul&#39;).empty();
            $(&#39;ul&#39;).detach();
            $(&#39;a&#39;).attr(&#39;target&#39;, &#39;_blank&#39;);
            alert($(&#39;a&#39;).attr(&#39;href&#39;));
            $(&#39;a&#39;).removeAttr(&#39;target&#39;);
            */
            //$(&#39;p&#39;).wrap(&#39;&lt;h1&gt;&#39;);
            //$(&#39;p&#39;).wrapAll(&#39;&lt;h1&gt;&#39;);
            $(&#39;#newItem&#39;).keyup(function(e){
                var code = e.which;
                if(code == 13){
                    e.preventDefault();
                    $(&#39;ul&#39;).append(&#39;&lt;li&gt;&#39;+e.target.value+&#39;&lt;/li&gt;&#39;);
                }
            });
            /*
            var myArr = [&#39;Brad&#39;, &#39;Kelley&#39;, &#39;Nate&#39;, &#39;Jose&#39;];
            $.each(myArr, function(i, val){
                $(&#39;#users&#39;).append(&#39;&lt;li&gt;&#39;+val+&#39;&lt;/li&gt;&#39;);
            });
            */
            var newArr = $(&#39;ul#list li&#39;).toArray();
            $.each(newArr, function(i, val){
                console.log(val.innerHTML);
            });
        });
</code></pre><h2 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h2>
      </div>

      <div class="card-text">
        2016-11-22
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2016/11/21/WebSocket/">
          WebSocket
        </a>
      </div>

      <div class="card-text">
        <p>预计完成时间 2016－12-30之前</p>

      </div>

      <div class="card-text">
        2016-11-21
      </div>

    </article>

    </div>
    
  
  <div id="d-article" class="card card-width">
    <article class="card-body">
      <div class="card-title">
        <a class="card-link" href="/2016/11/18/koa2/">
          koa2
        </a>
      </div>

      <div class="card-text">
        <!-- TOC depthFrom:1 depthTo:6 withLinks:1 updateOnSave:1 orderedList:0 -->
<ul>
<li><a href="#koa2">koa2</a><ul>
<li><a href="#环境搭建">环境搭建</a></li>
<li><a href="#koa2-使用流程">Koa2 使用流程</a></li>
<li><a href="#middleware">Middleware</a></li>
<li><a href="#koa-router">koa-router</a></li>
<li><a href="#模版引擎">模版引擎</a></li>
<li><a href="#mvc">MVC</a></li>
</ul>
</li>
</ul>
<!-- /TOC -->
<p>预计完成时间 2016－12-30之前</p>
<h1 id="koa2"><a href="#koa2" class="headerlink" title="koa2"></a>koa2</h1><blockquote>
<p>Koa is a new web framework designed by the team behind Express, which aims to be a smaller, more expressive, and more robust foundation for web applications and APIs. Through leveraging generators Koa allows you to ditch callbacks and greatly increase error-handling. Koa does not bundle any middleware within core, and provides an elegant suite of methods that make writing servers fast and enjoyable.</p>
</blockquote>
<h2 id="环境搭建"><a href="#环境搭建" class="headerlink" title="环境搭建"></a>环境搭建</h2><ol>
<li><p>新建一个目录并在目录中新建 <code>app.js</code></p>
<pre><code> const Koa = require(&#39;koa&#39;);

 const app = new Koa();

 app.use(async (ctx, next) =&gt; {
     await next();
     ctx.response.type = &#39;text/html&#39;;
     ctx.response.body = &#39;&lt;h1&gt;Hello, koa2!&lt;/h1&gt;&#39;;
 });

 app.listen(3000);
 console.log(&#39;app started at port 3000...&#39;);
</code></pre></li>
<li><p>在目录中新建 <code>package.js</code> 并添加依赖包</p>
<pre><code> {
   &quot;dependencies&quot;: {
       &quot;babel-core&quot;: &quot;6.13.2&quot;,
       &quot;babel-polyfill&quot;: &quot;6.13.0&quot;,
       &quot;babel-preset-es2015-node6&quot;: &quot;0.3.0&quot;,
       &quot;babel-preset-stage-3&quot;: &quot;6.5.0&quot;,
       &quot;koa&quot;: &quot;2.0.0&quot;
       }
 }
</code></pre><p>添加完成之后，在当前目录下使用 <code>npm instll</code> 命令安装所添加的依赖包  </p>
</li>
<li><p>新建自动转码文件 <code>start.js</code></p>
<pre><code> var register = require(&#39;babel-core/register&#39;);

 register({
     presets: [&#39;stage-3&#39;]
 });

 require(&#39;./app.js&#39;);
</code></pre></li>
<li>在当前目录下执行 <code>node start</code> 命令后访问 <strong>localhost:3000</strong> ，如果显示 <code>Hello, koa2!</code> 则环境配置成功.</li>
</ol>
<h2 id="Koa2-使用流程"><a href="#Koa2-使用流程" class="headerlink" title="Koa2 使用流程"></a>Koa2 使用流程</h2><p>Koa2的使用流程如下：</p>
<ol>
<li>Import ‘koa’ class</li>
<li>Create a Koa object;</li>
<li>Request handing</li>
<li>Listen on a specific port  </li>
</ol>
<p>每当监听的端口收到一个http请求，Koa2就会调用通过 <code>app.use()</code>注册的 <strong>async</strong> 函数，并传入 <code>ctx</code> 和 <code>next</code>参数。<code>ctx</code> 可以设置返回内容比如<code>ctx.response.body ＝ ‘&lt;p&gt; unless you show me how’</code>. <code>next</code> 参数用来调用下一个 <strong>async</strong> 函数。</p>
<h2 id="Middleware"><a href="#Middleware" class="headerlink" title="Middleware"></a>Middleware</h2><p><strong>async</strong> 函数就是middleware. 通过 <code>app.use()</code> 可以注册middleware并且 <code>app.use()</code> 的调用顺序决定了middleware的执行顺序, 使用 <code>await next()</code> 调用下一个middleware. 通过middleware的组合实现各种功能是Koa2的精髓。   </p>
<p>Middleware 组合示例:</p>
<pre><code>    const Koa = require(&#39;koa&#39;);

    const app = new Koa();

    app.use(async (ctx, next) =&gt; {
      console.log(ctx.request.method +&#39;,&#39;+ctx.request.url);
      await next();
    });

    app.use(async (ctx, next) =&gt;{
      const start = new Date().getTime();
      await next();
      const ms = new Date().getTime() - start;
      console.log(&#39;处理所消耗时间: &#39; + ms);
    });

    app.use(async (ctx, next) =&gt; {
      await next();
      ctx.response.type = &#39;text/html&#39;;
      ctx.response.body = &#39;&lt;h1&gt;Hello, koa2&lt;/h1&gt;&#39;;
    });

    app.listen(3000);
    console.log(&#39;app started at port 3000...&#39;);
</code></pre><h2 id="koa-router"><a href="#koa-router" class="headerlink" title="koa-router"></a>koa-router</h2><h2 id="模版引擎"><a href="#模版引擎" class="headerlink" title="模版引擎"></a>模版引擎</h2><h2 id="MVC"><a href="#MVC" class="headerlink" title="MVC"></a>MVC</h2>
      </div>

      <div class="card-text">
        2016-11-18
      </div>

    </article>

    </div>
    
</section>

 
        

          
     </main>

            <footer class="d-flex justify-content-around align-items-center text-white">
 
<div></div>

     
      <div>
      &copy;
      2017
        Max Lee
      </div>


<div class="">
  <div class="">
      Powered by
      <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>

 
 <div class="">
    Theme -
    <a href="git@github.com:evle/min.git" target="_blank">Min</a>
 </div>
 
 </div>

</footer>
       
             
  </body>



</html>